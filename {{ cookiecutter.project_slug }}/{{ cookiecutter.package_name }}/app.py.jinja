import os

from kivy.lang import Builder
from kivy.uix.screenmanager import ScreenManager
from kivymd.app import MDApp

from {{ cookiecutter.package_name }} import config
from {{ cookiecutter.package_name }}.screens.home import HomeScreen
from {{ cookiecutter.package_name }}.screens.intro import IntroScreen


class MyScreenManager(ScreenManager):
    pass

class {{ cookiecutter.app_class_name }}(MDApp):
    def build(self):
        # Load the kv files
        Builder.load_file(os.path.join(config.KV_PATH, "home.kv"))
        Builder.load_file(os.path.join(config.KV_PATH, "intro.kv"))

        sm = MyScreenManager()
        sm.add_widget(HomeScreen())
        sm.add_widget(IntroScreen())

        return sm
